<script>
    //=== 实现自己的迭代器 ==============================
    var each = function (ary, callback) {
        for (var i = 0, l = ary.length; i < l; i++) {
            callback.call(ary[i], i, ary[i]);
        }
    };

    each([1, 2, 3], function (i, n) {
        alert([i, n]);
    })



    //=== 内部迭代器 ===================================
    var compare = function (ary1, ary2) {
        if (ary1.length !== ary2.length) {
            throw new Error('ary1 和 ary2 不相等');
        }
        each(ary1, function (i, n) {
            if (n !== ary2[i]) {
                throw new Error('ary1 和 ary2 不相等'); // 抛出错误
            }
        });
        alert('ary1 和 ary2 相等'); // 不会显示
    };

    compare([1, 2, 3], [1, 2, 4]);



    //=== 外部迭代器 ===================================
    
</script>